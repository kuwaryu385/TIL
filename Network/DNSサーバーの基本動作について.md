# DNSサーバーの基本動作について

## DNSサーバーとは何か？    

**ドメイン名とIPアドレスを変換する仕組みを提供するサーバーのことである。**  

インターネット上でパケットの送受信に使われているプロトコルであるIPはIPアドレスで行われている。  

IPアドレスは数字なので、まあ覚えにくいですね。  

そこで、DNSがIPアドレスを変換して  

`www.hogetup.wara.come`  

みたいなドメイン名で通信先を指定することを可能にしています。  

## DNSサーバーの基本動作  

### DNSサーバーは、クライアントから問い合わせのメッセージを受け取り、サーバー内に登録されたドメイン名とIPアドレスの対応表を調べて、IPアドレスを回答する。  

問い合わせメッセージは下記の３つ。

**1,名前**  
サーバーやメール配送先のこと。  
www.hogetup.wara.come  
などがある。  

**2,クラス**  
DNSの仕組みが考案されたときはインターネット以外のネットワーク利用も検討されたため暮らすという情報が用意されている。

しかし、クラスは常にインターネットを表す「IN」という値のみである。  

**3,レコードタイプ**  
どのような種類の情報が対応しているのか表す。  

* 「A」はAddressの略で→IPアドレス  

* 「MX」はMail eXchangeの略で→メール配送先  
その他のレコードタイプとして  

* 「PTR」：IPアドレスに対するホスト名を表す。   

* 「AAAA」：Aレコードと同じくホスト名に対するIPアドレスを意味しているが、特にIPv6のアドレスを指定する際に使用するレコードタイプ。

* 「SOP」：「ゾーンファイルの基となるデータを持つネームサーバの名前」や、「管理者のメールアドレス」など、ドメインの管理情報を表す。  


* 「NS」：あるゾーンに対して権威を持つネームサーバを指定する。  

* 「CNAME」：ドメインやホスト名の別名を定義するレコードタイプ。

* 「SPF」：送信ドメイン認証技術「SPF」を使用し、メールを送信可能なドメインを指定する。  


この3つのメッセージを、名前とタイプによって調べる情報を指定しそれに従って該当するものを探してクライアントに返答するのがDNSサーバーの基本動作である。

**[参考文献]**  
ネットワークはなぜつながるのか？    
p62~63
